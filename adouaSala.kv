
<ADouaSala>:
    name : 'adouaSala'
    FloatLayout:
        Image:
            source: "vanila2.png"
            allow_stretch: True
            keep_ratio: False
            size_hint: 1, 1
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        MDBoxLayout:
            orientation: "vertical"
            padding: "10dp"
            spacing: "10dp"



            MDLabel:
                text: "Sala Luna"
                size_hint_y: None
                height: self.texture_size[1]
                font_style: "H6"
                halign: 'center'


            ScrollView:

                MDBoxLayout:
                    orientation: "vertical"
                    pos_hint: {'center_x': 0.6, 'center_y': 0.5}
                    size_hint_x:1
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: "20dp"
                    padding: "20dp"

                    MDCard:
                        size_hint: 1, None
                        height: "1300dp"
                        radius: [20]
                        padding: "10dp"
                        md_bg_color: (1, 1, 1, .3)
                        shadow_offset: (0, 1)
                        shadow_softness: 3
                        line_color: (1, 1, 1, 1)
                        line_width: 1.3

                        MDBoxLayout:
                            orientation: "vertical"
                            pos_hint: {'center_x': .5, 'center_y':.60}
                            size_hint_x:1
                            size_hint_y: None
                            height: self.minimum_height
                            spacing: "20dp"
                            padding: "20dp"

                            FitImage:
                                source: "Sala_Luna.png"
                                size_hint_y: None
                                height: "500dp"
                                pos_hint: {"top": .5}
                                radius: "36dp", "36dp", 0, 0

                            MDLabel:
                                text: "Suprafata: 90 mp\nSala New York a fost realizată special pentru evenimente de tip work-shop și prezentări."
                                size_hint_y: None
                                height: self.texture_size[1]
                                font_size: "18dp"
                                halign: 'left'
                            MDLabel:
                                text: "Dotări:"
                                size_hint_y: None
                                height: self.texture_size[1]
                                font_size: "21dp"
                                halign: 'left'

                            MDLabel:
                                text: "- ecran proiectare\n- video proiector\n- flip chart + consumabile\n- adaptor VGA și HDMI\n- power pointer\n- sistem de sunet\n- microfoane mobile\n- internet\n- aer condiționat"
                                size_hint_y: None
                                height: self.texture_size[1]
                                font_size: "18dp"
                                halign: 'left'

                            MDLabel:
                                text: "Numarul de persoane in functie de format:"
                                size_hint_y: None
                                height: self.texture_size[1]
                                font_size: "21dp"
                                halign: 'left'
                            MDLabel:
                                text: "-> tip teatru – 80 pers\n-> tip U shape – 25-30 pers\n-> tip classroom – 40 pers\n-> tip cabaret – 50 pers"
                                size_hint_y: None
                                height: self.texture_size[1]
                                font_size: "18dp"
                                halign: 'left'


                            #harta
                            MDCard:
                                size_hint: 1, None
                                height: "451dp"
                                radius: [5]
                                padding: "10dp"
                                md_bg_color: (1, 1, 1, .3)
                                shadow_offset: (0, 1)
                                shadow_softness: 3
                                line_color: (1, 1, 1, 1)
                                line_width: 1.3
                                MDBoxLayout:
                                    orientation: "vertical"
                                    size_hint_y: None
                                    height: "450dp"  # ATENȚIE: 30dp este prea mic pentru a vedea harta!
                                    spacing: "20dp"
                                    padding: "20dp"

                                    # Apelează metoda Python după ce s-a construit acest bloc KV

                                    MapView:
                                        id: map_widget_2# Dă-i un ID
                                        lat: 50
                                        lon: 30
                                        zoom: 10

                                    MDBoxLayout:
                                        orientation: 'horizontal'
                                        size_hint: None, None
                                        size: "48dp", "90dp" # Dimensiunea containerului
                                        spacing: "5dp"

                                        # Poziționare: Ancorat în dreapta, puțin deasupra fundului
                                        pos_hint: {'right': 0.95, 'y': 0.08}

                                        # Butonul Zoom IN
                                        MDIconButton:
                                            icon: "plus" # Icoana pentru Zoom In
                                            theme_icon_color: "Custom"
                                            icon_color: 0, 0, 0, 1 # Culoarea icoanei (Negru)
                                            md_bg_color: 1, 1, 1, 1 # Culoarea de fundal (Alb)
                                            # Acțiunea: Mărește proprietatea 'zoom' a widget-ului map_widget
                                            on_release: map_widget_2.zoom += 1

                                        # Butonul Zoom OUT
                                        MDIconButton:
                                            icon: "minus" # Icoana pentru Zoom Out
                                            theme_icon_color: "Custom"
                                            icon_color: 0, 0, 0, 1
                                            md_bg_color: 1, 1, 1, 1
                                            # Acțiunea: Micșorează proprietatea 'zoom' a widget-ului map_widget
                                            on_release: map_widget_2.zoom -= 1

                    MDTextField:
                        id: data_rezervarii
                        hint_text: "Alege Data Rezervării"
                        icon_right: "calendar"
                        mode: "rectangle"
                        readonly: True  # Nu lăsăm userul să scrie de mână
                        on_focus:
                            if self.focus: app.root.ids.content_manager.get_screen('colectareDate').arata_calendar(self)
                    MDBoxLayout:
                        orientation: 'horizontal'
                        pos_hint: {'center_x': .5, 'y': 0.05}
                        size_hint_x: 0.9
                        adaptive_height: True
                        spacing: "20dp"
                        padding: "0dp"

                        MDRaisedButton:
                            text: "Rezerva sala"
                            size_hint_x: 1
                            on_release: root.rezerva_acum()